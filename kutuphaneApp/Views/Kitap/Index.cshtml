@model IEnumerable<kutuphaneApp.Models.tb_kitaplar>

@{
    ViewBag.Title = "Index";
    Layout = "~/Views/Shared/_Layout.cshtml";
}
@if (Session["id"] == null)
{
    Response.Redirect("/Giris");
}
<script src="https://code.jquery.com/jquery-1.11.3.min.js" type="text/javascript"></script>
<script src="https://cdn.datatables.net/1.10.9/js/jquery.dataTables.min.js" type="text/javascript"></script>
<link rel="stylesheet" href="https://cdn.datatables.net/1.10.9/css/jquery.dataTables.min.css" />

<script type="text/javascript">

    $(document).ready(function () {
        $('#datatable').dataTable({
            "language": {
                "url": "//cdn.datatables.net/plug-ins/9dcbecd42ad/i18n/Turkish.json"
            }

        });
    });

</script>

<p>
    @Html.ActionLink("Kitap Ekle", "Create")
</p>
<table class="table table-bordered table-responsive-sm" id="datatable">
    <thead>
        <tr>
            <th>
                ISBN NO
            </th>
            <th>
                KİTAP
            </th>
            <th>
                YAZAR
            </th>
            <th>
                SAYFA SAYISI
            </th>
            <th>
                BASIM YILI
            </th>
            <th>
                YAYIN EVİ
            </th>
            <th>
                TÜR
            </th>

            <th></th>
        </tr>
    </thead>
    <tbody>
        @foreach (var item in Model)
        {
            if (item.durum == false)
            {
                <tr>
                    <td>
                        @Html.DisplayFor(modelItem => item.isbn_no)
                    </td>
                    <td>
                        @Html.DisplayFor(modelItem => item.adi)
                    </td>
                    <td>
                        @Html.DisplayFor(modelItem => item.tb_yazarlar.ad_soyad)
                    </td>
                    <td>
                        @Html.DisplayFor(modelItem => item.sayfa_sayisi)

                    </td>
                    <td>
                        @Html.DisplayFor(modelItem => item.basim_yili)

                    </td>
                    <td>
                        @Html.DisplayFor(modelItem => item.tb_yayin_evleri.ad)

                    </td>
                    <td>
                        @Html.DisplayFor(modelItem => item.tb_turler.tur)

                    </td>

                    <td>
                        @Html.ActionLink("Düzenle", "Edit", new { id = item.id }) |

                        @Html.ActionLink("Sil", "Delete", new { id = item.id })
                    </td>
                </tr>
            }
            else
            {
                <tr class="bg-danger text-light">
                    <td>
                        @Html.DisplayFor(modelItem => item.isbn_no)
                    </td>
                    <td>
                        @Html.DisplayFor(modelItem => item.adi)
                    </td>
                    <td>
                        @Html.DisplayFor(modelItem => item.tb_yazarlar.ad_soyad)
                    </td>
                    <td>
                        @Html.DisplayFor(modelItem => item.sayfa_sayisi)

                    </td>
                    <td>
                        @Html.DisplayFor(modelItem => item.basim_yili)

                    </td>
                    <td>
                        @Html.DisplayFor(modelItem => item.tb_yayin_evleri.ad)

                    </td>
                    <td>
                        @Html.DisplayFor(modelItem => item.tb_turler.tur)

                    </td>

                    <td>
                        @Html.ActionLink("Düzenle", "Edit", new { id = item.id }) |

                        @Html.ActionLink("Sil", "Delete", new { id = item.id })
                    </td>
                </tr>
            }

        }
    </tbody>
</table>
